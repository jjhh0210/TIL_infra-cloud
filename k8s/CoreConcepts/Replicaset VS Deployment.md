## 역할
Deployment는 고수준의 관리 및 모니터링을 담당하고, ReplicaSet은 이러한 요청을 실제로 수행하는 역할을 함.
1. **Deployment의 역할**:
    - 애플리케이션의 배포 및 업데이트 프로세스 관리(새 버전으로의 롤아웃, 롤링 업데이트, 롤백 등)
    - 파드의 원하는 상태를 정의하고, 이 상태를 유지하는 것이 목표
    - 선언된 상태와 실제 클러스터 상태 간의 차이를 모니터링하고, 필요한 조치를 취함
2. **ReplicaSet의 역할**:
    - `Deployment`로부터 받은 지시에 따라 파드의 생성,삭제,교체를 실제로 담당함
    - replicas에 지정된 수만큼의 파드 복제본 개수를 유지하는 작업 수행(k8s 시스템에 의해 자동으로 관리됨)
    - `ReplicaSet`은 `Deployment`에 의해 생성됨
## 상황에 따른 동작 메커니즘
1. **사용자에 의한 변경**:
   1. 사용자가 `Deployment`의 replicas를 3 -> 4로 변경 
   2. `Deployment`는 이 변경을 감지하고, 새로운 상태를 충족시키기 위해 내부적으로 `ReplicaSet`의 구성을 업데이트
   3. `Deployment`의 요청에 따라, `ReplicaSet`은 새로운 파드를 생성하여 복제본 수를 4로 맞춤.

2. **내부적으로 발생하는 파드의 실패**:
    - `ReplicaSet`이 관리하는 파드에서 fail이 발생하면, `ReplicaSet`은 자동으로 새로운 파드를 생성하여 복제본의 수를 유지함.
    - 이 과정은 `Deployment`를 거치지 않고 `ReplicaSet`에 의해 자동으로 관리된다!!
  
## 결론
-  `Deployment`는 파드의 상태를 관리하고 원하는 상태를 유지하기 위한 전략을 결정하고, `ReplicaSet`은 `Deployment`의 지시에 따라 실제 파드를 관리하는 역할을 수행한다.
-  사용자에 의한 복제본 수의 변경은 `Deployment`를 통해 관리되며, `ReplicaSet`은 이러한 변경사항을 반영하여 실제 파드의 수를 조정한다. 그러나, `ReplicaSet` 내부적으로 발생하는 파드 실패나 교체는 `ReplicaSet`이 자동으로 관리하며, `Deployment`를 거치지 않음
